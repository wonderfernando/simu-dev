(()=>{var e={};e.id=68,e.ids=[68],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},99046:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>c});var r=s(70260),n=s(28203),t=s(25155),i=s.n(t),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(a,l);let c=["",{children:["(dashboard)",{children:["companhias",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,99603)),"/home/fernando/simu-dev/src/app/(dashboard)/companhias/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,44736)),"/home/fernando/simu-dev/src/app/(dashboard)/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,18067)),"/home/fernando/simu-dev/src/app/(dashboard)/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/home/fernando/simu-dev/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/home/fernando/simu-dev/src/app/(dashboard)/companhias/page.tsx"],m={require:s,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(dashboard)/companhias/page",pathname:"/companhias",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1718:(e,a,s)=>{Promise.resolve().then(s.bind(s,90673)),Promise.resolve().then(s.bind(s,68985)),Promise.resolve().then(s.bind(s,4222))},96990:(e,a,s)=>{Promise.resolve().then(s.bind(s,27947)),Promise.resolve().then(s.bind(s,88905)),Promise.resolve().then(s.bind(s,32274))},32274:(e,a,s)=>{"use strict";s.d(a,{SearchForm:()=>c});var r=s(45512),n=s(77722),t=s(16873),i=s(79334),o=s(58009),l=s(90743);function c({route:e}){let a=(0,i.useRouter)(),s=(0,i.useSearchParams)().get("search"),[c,d]=(0,o.useState)(s||""),[m]=(0,l.d7)(c,800);return(0,i.usePathname)(),(0,r.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a.push(`/categorias?search=${m}`)},className:"relative w-full",children:[(0,r.jsx)(n.p,{value:c,onChange:e=>d(e.target.value),type:"search",className:"rounded-xl ",placeholder:"Procurar"}),(0,r.jsx)(t.A,{size:24,className:"text-zinc-500 absolute right-2 -translate-y-1/2 top-1/2"})]})}},27947:(e,a,s)=>{"use strict";s.d(a,{DialogSaveCompanhia:()=>b});var r=s(45512),n=s(39400),t=s(43264),i=s(77722),o=s(16131),l=s(58009),c=s(81914),d=s(6868),m=s(64186),h=s(30191),p=s(26248);let x=(0,p.createServerReference)("4066f2e87e58cf496fa54a3b39f693648d8c4fdcbc",p.callServer,void 0,p.findSourceMapURL,"POST_COMPANHIAS");var u=s(22403),f=s(86235);let j=o.Ik({name:o.Yj().nonempty("Nome \xe9 obrigat\xf3ria"),email:o.Yj().email("Digite um email v\xe1lido")}),v=o.Ik({name:o.Yj().nonempty("Nome \xe9 obrigat\xf3ria"),email:o.Yj().email("Digite um email v\xe1lido"),users:j});function b({children:e}){let[a,s]=(0,l.useState)(!1),{handleSubmit:o,formState:p,register:j,reset:b}=(0,d.mN)({resolver:(0,c.u)(v)}),g=(0,m.jE)(),{mutateAsync:C,isPending:N}=(0,h.n)({mutationFn:x,onSuccess:()=>{u.Ay.success("Companhia salva com sucesso"),b(),g.invalidateQueries({queryKey:["get-companhias"]}),s(!1)}});return(0,r.jsxs)(t.lG,{open:a,onOpenChange:s,children:[(0,r.jsx)(t.zM,{asChild:!0,children:e}),(0,r.jsx)(t.Cf,{children:(0,r.jsxs)("form",{onSubmit:o(function(e){C(e)}),children:[(0,r.jsx)(t.c7,{children:(0,r.jsx)(t.L3,{children:"Cadastrar nova Companhia"})}),(0,r.jsxs)("div",{className:"my-4 flex flex-col gap-2",children:[(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Nome"}),(0,r.jsx)(i.p,{...j("name"),placeholder:"Insira o nome da companhia"}),p.errors.name&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:p.errors.name.message})]}),(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Email"}),(0,r.jsx)(i.p,{...j("email"),placeholder:"Insira o email da companhia"}),p.errors.email&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:p.errors.email.message})]})]}),(0,r.jsxs)("div",{className:"border shadow rounded",children:[(0,r.jsx)("div",{className:"w-full bg-zinc-100 ",children:(0,r.jsx)("span",{className:"text-sm text-zinc-700",children:"Dados do usuario administrador"})}),(0,r.jsxs)("div",{className:"my-4 flex flex-col gap-2 px-1",children:[(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Nome"}),(0,r.jsx)(i.p,{...j("users.name"),placeholder:"Insira o nome da companhia"}),p.errors.users?.name&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:p.errors.users.name.message})]}),(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1 px-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Email"}),(0,r.jsx)(i.p,{...j("users.email"),placeholder:"Insira o email da companhia"}),p.errors.users?.email&&(0,r.jsx)("span",{className:"text-red-500 text-sm",children:p.errors.users.email.message})]})]})]}),(0,r.jsxs)(t.Es,{className:"flex  justify-end gap-2",children:[(0,r.jsx)(n.$,{variant:"outline",children:"Cancelar"}),(0,r.jsxs)(n.$,{disabled:N,className:"text-white bg-orange-600 hover:bg-orange-700 flex items-center",children:["Salvar ",N&&(0,r.jsx)(f.A,{className:"animate-spin"})]})]})]})})]})}},88905:(e,a,s)=>{"use strict";s.d(a,{TableCompanhias:()=>E});var r=s(45512),n=s(39400),t=s(94577),i=s(47630),o=s(94520),l=s(3736),c=s(49656),d=s(58009),m=s(26248);let h=(0,m.createServerReference)("40e922c24ab4773d91f64c7a9af6247e6d54f4f8a2",m.callServer,void 0,m.findSourceMapURL,"DELETE_COMPANHIAS");var p=s(43264),x=s(64186),u=s(30191),f=s(86235),j=s(22403);function v({id:e,children:a}){let[s,t]=(0,d.useState)(!1),i=(0,x.jE)(),{mutateAsync:o,isPending:l}=(0,u.n)({mutationFn:h,onSuccess:()=>{j.Ay.success("Companhia eliminada com sucesso"),i.invalidateQueries({queryKey:["get-companhias"]}),t(!1)}});async function c(){await o(e)}return(0,r.jsxs)(p.lG,{open:s,onOpenChange:t,children:[(0,r.jsx)(p.zM,{asChild:!0,children:a}),(0,r.jsxs)(p.Cf,{children:[(0,r.jsxs)(p.c7,{children:[(0,r.jsx)(p.L3,{children:"Tem a certeza absoluta?"}),(0,r.jsx)(p.rr,{children:"Tem a certeza que deseja eliminar este dado?"})]}),(0,r.jsxs)(p.Es,{className:"flex  justify-end gap-2",children:[(0,r.jsx)(n.$,{onClick:()=>t(!1),variant:"outline",children:"Cancelar"}),(0,r.jsxs)(n.$,{disabled:l,onClick:c,className:"bg-red-800 hover:bg-red-700 text-white",children:["Confirmar ",l&&(0,r.jsx)(f.A,{className:"animate-spin"})]})]})]})]})}let b=(0,m.createServerReference)("40d3d1d279fffb314e01de75271c692e94870a7cb9",m.callServer,void 0,m.findSourceMapURL,"PUT_COMPANHIAS");var g=s(77722),C=s(81914),N=s(6868),S=s(16131);let y=S.Ik({name:S.Yj().nonempty("Companhia \xe9 obrigat\xf3ria"),email:S.Yj().email("Digite um email v\xe1lido")});function P({children:e,id:a,companhia:s}){let[t,i]=(0,d.useState)(!1),o=(0,x.jE)(),{mutateAsync:l,isPending:c}=(0,u.n)({mutationFn:b,onSuccess:e=>{console.log(e),j.Ay.success("Companhia editada com sucesso"),i(!1),o.invalidateQueries({queryKey:["get-companhias"]})},onError:e=>{j.Ay.error("Erro ao editar a Companhia")}});async function m(e){await l({id:a,data:e})}let{handleSubmit:h,formState:v,register:S,reset:P}=(0,N.mN)({resolver:(0,C.u)(y),defaultValues:{name:s.name,email:s.email}});return(0,r.jsxs)(p.lG,{open:t,onOpenChange:i,children:[(0,r.jsx)(p.zM,{asChild:!0,children:e}),(0,r.jsx)(p.Cf,{children:(0,r.jsxs)("form",{onSubmit:h(m),children:[(0,r.jsx)(p.c7,{children:(0,r.jsx)(p.L3,{children:"Editar Companhia"})}),(0,r.jsxs)("div",{className:"my-4 flex flex-col gap-2",children:[(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Companhia"}),(0,r.jsx)(g.p,{...S("name"),placeholder:"Insira a Companhia"})]}),(0,r.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,r.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Email"}),(0,r.jsx)(g.p,{...S("email"),placeholder:"Insira a descri\xe7\xe3o da Companhia"})]})]}),(0,r.jsxs)(p.Es,{className:"flex  justify-end gap-2",children:[(0,r.jsx)(n.$,{variant:"outline",children:"Cancelar"}),(0,r.jsxs)(n.$,{disabled:c,className:"text-white bg-orange-600 hover:bg-orange-700",children:["Salvar ",c&&(0,r.jsx)(f.A,{className:"animate-spin"})]})]})]})})]})}var A=s(89633);let w=(0,m.createServerReference)("005dd41a986cc5d33c18fd9e18b770d3fef05d03fd",m.callServer,void 0,m.findSourceMapURL,"GET_COMPANHIAS");function E({companhias:e}){let[a,s]=(0,d.useState)(!1),[t]=(0,d.useState)(null);(0,x.jE)();let{data:l,isLoading:c,isError:m,error:h}=(0,A.I)({initialData:e,queryKey:["get-companhias"],queryFn:w});return console.log(l),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(i.XI,{children:[(0,r.jsx)(i.r6,{children:"Lista de Companhias"}),(0,r.jsx)(i.A0,{children:(0,r.jsxs)(i.Hj,{children:[(0,r.jsx)(i.nd,{className:"w-[100px]",children:"#"}),(0,r.jsx)(i.nd,{children:"Companhia"}),(0,r.jsx)(i.nd,{children:"Email"})]})}),(0,r.jsx)(i.BF,{children:l?.map((e,a)=>r.jsxs(i.Hj,{children:[r.jsx(i.nA,{className:"font-medium",children:a+1}),r.jsx(i.nA,{children:e.name}),r.jsx(i.nA,{children:r.jsx("span",{className:"w-64 truncate cursor-pointer",children:e.email})}),r.jsx(i.nA,{children:r.jsx(z,{companhia:e,id:e.id,children:r.jsxs(n.$,{className:"py-0 px-0 h-8 w-8",variant:"outline",children:[r.jsx(o.A,{})," "]})})})]},e.id))})]})})}function z({children:e,id:a,companhia:s}){return(0,r.jsxs)(t.Popover,{children:[(0,r.jsx)(t.PopoverTrigger,{asChild:!0,children:e}),(0,r.jsx)(t.PopoverContent,{className:"w-fit",children:(0,r.jsxs)("div",{className:"gap-4 flex flex-col items-start",children:[(0,r.jsx)(P,{id:a,companhia:s,children:(0,r.jsxs)(n.$,{variant:"outline",children:["Editar ",(0,r.jsx)(l.A,{className:""})]})}),(0,r.jsx)(v,{id:a,children:(0,r.jsxs)(n.$,{variant:"outline",children:["Apagar ",(0,r.jsx)(c.A,{className:"text-red-400"})]})})]})})]})}},58057:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(83238).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4222:(e,a,s)=>{"use strict";s.d(a,{SearchForm:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call SearchForm() from the server but SearchForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/fernando/simu-dev/src/app/(dashboard)/SearchForm.tsx","SearchForm")},90673:(e,a,s)=>{"use strict";s.d(a,{DialogSaveCompanhia:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call DialogSaveCompanhia() from the server but DialogSaveCompanhia is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/fernando/simu-dev/src/app/(dashboard)/companhias/DialogSaveCampanhia.tsx","DialogSaveCompanhia")},68985:(e,a,s)=>{"use strict";s.d(a,{TableCompanhias:()=>n});var r=s(46760);let n=(0,r.registerClientReference)(function(){throw Error("Attempted to call TableCompanhias() from the server but TableCompanhias is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/fernando/simu-dev/src/app/(dashboard)/companhias/TableCompanhias.tsx","TableCompanhias");(0,r.registerClientReference)(function(){throw Error("Attempted to call PopoverSettingButton() from the server but PopoverSettingButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/fernando/simu-dev/src/app/(dashboard)/companhias/TableCompanhias.tsx","PopoverSettingButton")},99603:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>m});var r=s(62740),n=s(88380),t=s(99818),i=s(58057),o=s(68985),l=s(90673),c=s(8214),d=s(4222);async function m({searchParams:e}){let{search:a}=await e,s=await (0,c.no)();return a&&console.log(s=s.filter(e=>e.name.toLowerCase().includes(a.toLowerCase()))),(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsxs)("div",{className:"flex items-end justify-between gap-2",children:[(0,r.jsxs)("div",{className:" flex flex-col items-start w-full justify-start max-w-lg r",children:[(0,r.jsx)("h1",{className:"text-zinc-800 font-extrabold text-lg",children:"Companhias"}),(0,r.jsx)(d.SearchForm,{route:"companhias"})]}),(0,r.jsx)(l.DialogSaveCompanhia,{children:(0,r.jsxs)(n.$,{className:"bg-[#e67d06] hover:bg-[#a74e0b]",children:[(0,r.jsx)("span",{className:"hidden md:flex items-start",children:"Cadastrar"})," ",(0,r.jsx)(i.A,{})]})})]}),(0,r.jsx)(t.Zp,{children:(0,r.jsx)(t.Wu,{children:(0,r.jsx)(o.TableCompanhias,{companhias:s})})})]})}}};var a=require("../../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),r=a.X(0,[10,284,512,444,531,953,848,67,324,29,201,674],()=>s(99046));module.exports=r})();