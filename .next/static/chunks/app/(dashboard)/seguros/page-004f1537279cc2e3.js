(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5945],{5321:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.bind(t,7441)),Promise.resolve().then(t.bind(t,9769)),Promise.resolve().then(t.bind(t,7995))},8867:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},1719:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},2598:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},4505:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},872:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},8236:(e,r,t)=>{"use strict";t.d(r,{A:()=>n});let n=(0,t(7401).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6046:(e,r,t)=>{"use strict";var n=t(6658);t.o(n,"usePathname")&&t.d(r,{usePathname:function(){return n.usePathname}}),t.o(n,"useRouter")&&t.d(r,{useRouter:function(){return n.useRouter}}),t.o(n,"useSearchParams")&&t.d(r,{useSearchParams:function(){return n.useSearchParams}})},5828:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{callServer:function(){return n.callServer},createServerReference:function(){return s},findSourceMapURL:function(){return a.findSourceMapURL}});let n=t(9603),a=t(3355),s=t(4979).createServerReference},7441:(e,r,t)=>{"use strict";t.d(r,{SearchForm:()=>c});var n=t(5155),a=t(3900);let s=(0,t(7401).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=t(6046),i=t(2115);function c(e){var r,t,c,o,u,d;let{route:f}=e,m=(0,l.useRouter)(),p=(0,l.useSearchParams)().get("search"),[h,x]=(0,i.useState)(p||""),[j]=(t=(0,i.useRef)(h),c=(0,i.useState)({})[1],o=function(e,r,t){var n=this,a=(0,i.useRef)(null),s=(0,i.useRef)(0),l=(0,i.useRef)(null),c=(0,i.useRef)([]),o=(0,i.useRef)(),u=(0,i.useRef)(),d=(0,i.useRef)(e),f=(0,i.useRef)(!0);d.current=e;var m="undefined"!=typeof window,p=!r&&0!==r&&m;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(t=t||{}).leading,x=!("trailing"in t)||!!t.trailing,j="maxWait"in t,v="debounceOnServer"in t&&!!t.debounceOnServer,y=j?Math.max(+t.maxWait||0,r):null;return(0,i.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,i.useMemo)(function(){var e=function(e){var r=c.current,t=o.current;return c.current=o.current=null,s.current=e,u.current=d.current.apply(t,r)},t=function(e,r){p&&cancelAnimationFrame(l.current),l.current=p?requestAnimationFrame(e):setTimeout(e,r)},i=function(e){if(!f.current)return!1;var t=e-a.current;return!a.current||t>=r||t<0||j&&e-s.current>=y},g=function(r){return l.current=null,x&&c.current?e(r):(c.current=o.current=null,u.current)},b=function e(){var n=Date.now();if(i(n))return g(n);if(f.current){var l=r-(n-a.current);t(e,j?Math.min(l,y-(n-s.current)):l)}},N=function(){if(m||v){var d=Date.now(),p=i(d);if(c.current=[].slice.call(arguments),o.current=n,a.current=d,p){if(!l.current&&f.current)return s.current=a.current,t(b,r),h?e(a.current):u.current;if(j)return t(b,r),e(a.current)}return l.current||t(b,r),u.current}};return N.cancel=function(){l.current&&(p?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,c.current=a.current=o.current=l.current=null},N.isPending=function(){return!!l.current},N.flush=function(){return l.current?g(Date.now()):u.current},N},[h,j,r,y,x,p,m,v])}((0,i.useCallback)(function(e){t.current=e,c({})},[c]),800,r),d=(u=(0,i.useRef)(h)).current,d===h||(o(h),u.current=h),[t.current,o]);return(0,l.usePathname)(),(0,i.useEffect)(()=>h?(console.log("/".concat(f,"?search=").concat(j)),m.push("/".concat(f,"?search=").concat(j))):(console.log("entrou no false"),m.push("/".concat(f))),[j]),(0,n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.push("/categorias?search=".concat(j))},className:"relative w-full",children:[(0,n.jsx)(a.p,{value:h,onChange:e=>x(e.target.value),type:"search",className:"rounded-xl ",placeholder:"Procurar"}),(0,n.jsx)(s,{size:24,className:"text-zinc-500 absolute right-2 -translate-y-1/2 top-1/2"})]})}},9769:(e,r,t)=>{"use strict";t.d(r,{TableInsure:()=>O});var n=t(5155),a=t(3312),s=t(9095),l=t(2508),i=t(2598),c=t(8236),o=t(872),u=t(5686),d=t(2115),f=t(2990),m=t(3601),p=t(5906),h=t(547),x=t(1425),j=t(5828);let v=(0,j.createServerReference)("40852c6f4515a9273040b16e41a6c73c1436c4b2eb",j.callServer,void 0,j.findSourceMapURL,"DELETE_INSURE");var y=t(1344),g=t(5848),b=t(4505),N=t(5037);function R(e){let{id:r,children:t}=e,[s,l]=(0,d.useState)(!1),i=(0,p.jE)(),{mutateAsync:c,isPending:o}=(0,g.n)({mutationFn:v,onSuccess:()=>{N.Ay.success("Seguro eliminado com sucesso"),i.invalidateQueries({queryKey:["get-seguros"]}),l(!1)}});async function u(){await c(r)}return(0,n.jsxs)(y.lG,{open:s,onOpenChange:l,children:[(0,n.jsx)(y.zM,{asChild:!0,children:t}),(0,n.jsxs)(y.Cf,{children:[(0,n.jsxs)(y.c7,{children:[(0,n.jsx)(y.L3,{children:"Tem a certeza absoluta?"}),(0,n.jsx)(y.rr,{children:"Tem a certeza que deseja eliminar este dado?"})]}),(0,n.jsxs)(y.Es,{className:"flex  justify-end gap-2",children:[(0,n.jsx)(a.$,{onClick:()=>l(!1),variant:"outline",children:"Cancelar"}),(0,n.jsxs)(a.$,{disabled:o,onClick:u,className:"bg-red-800 hover:bg-red-700 text-white flex items-center justify-center gap-2",children:["Confirmar ",o&&(0,n.jsx)(b.A,{className:"animate-spin"})]})]})]})]})}let S=(0,j.createServerReference)("4033dd9de622b5f225354f0ef4871a6dfa0b4a9940",j.callServer,void 0,j.findSourceMapURL,"GET_GROUP_INSURE"),w=(0,j.createServerReference)("4083749eee95b9f9d95127b02fb9144d65e6d00dc1",j.callServer,void 0,j.findSourceMapURL,"GET_OPTION_BY_GROUP_INSURE");var C=t(3794),A=t(91),P=t(9130),E=t(7995),k=t(4029),M=t(4698);function _(e){let{insure_id:r,children:t}=e,{data:a,isLoading:s,isError:l,error:i}=(0,h.I)({queryKey:["get-grupos-insure",r],queryFn:e=>{let{queryKey:r}=e;return S(r[1])}}),c=(0,p.jE)(),[o]=(0,d.useState)(""),{data:u}=(0,h.I)({queryKey:["get-option",r,o],queryFn:()=>w({insurance_id:r,option_group_id:o})}),[f,m]=(0,d.useState)(""),[x,j]=(0,d.useState)(""),[v,y]=(0,d.useState)(""),{mutateAsync:b,isPending:N}=(0,g.n)({mutationFn:C.J,onSuccess:()=>{c.invalidateQueries({queryKey:["get-grupos-insure",r]})}}),{mutateAsync:R,isPending:_}=(0,g.n)({mutationFn:A.D,onSuccess:()=>{c.invalidateQueries({queryKey:["get-grupos-insure",r]})}});return(0,n.jsxs)(k.cj,{children:[(0,n.jsx)(k.CG,{asChild:!0,children:t}),(0,n.jsxs)(k.h,{children:[(0,n.jsxs)(k.Fm,{children:[(0,n.jsx)(k.qp,{children:"Comberturas"}),(0,n.jsx)(k.Qs,{children:"Salvar nova cobertura"})]}),(0,n.jsx)("div",{className:"grid gap-1 py-4 ",children:(0,n.jsxs)("section",{className:"mt-4",children:[(0,n.jsx)("h3",{className:"ml-4 text-zinc-800 font-semibold text-md",children:"Coberturas"}),(0,n.jsxs)(E.ScrollArea,{className:"h-80 px-4",children:[(0,n.jsx)("div",{className:"bg-zinc-200 h-[2px] w-full my-1 rounded-full"}),(0,n.jsx)(P.nD,{type:"single",collapsible:!0,children:null==a?void 0:a.map(e=>(0,n.jsxs)(P.As,{value:e.id,children:[(0,n.jsxs)(P.$m,{className:"text-sm font-semibold text-zinc-800",children:[(0,n.jsxs)(M.Q,{group_id:e.id,children:[e.name," "]}),"    "]}),(0,n.jsxs)(P.ub,{className:"flex flex-col gap-2",children:[e.options.map(e=>(0,n.jsx)("li",{className:"flex items-center justify-between text-sm text-zinc-600 shadow border rounded-sm p-2",children:(0,n.jsxs)("span",{children:[" ",e.name]})},e.id)),0===e.options.length&&(0,n.jsx)("p",{className:"text-zinc-600 text-sm",children:"Nenhuma cobertura cadastrada"})]})]},e.id))})]})]})})]})]})}var z=t(6046);function O(e){let{insures:r}=e,[t,s]=(0,d.useState)(!1),[o]=(0,d.useState)(null),u=(0,p.jE)();(0,d.useEffect)(()=>{r&&u.setQueryData(["get-seguros"],r)},[r,u]);let{data:j,isLoading:v,isError:y,error:g}=(0,h.I)({initialData:r,queryKey:["get-seguros"],queryFn:x.b});return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(l.XI,{children:[(0,n.jsx)(l.r6,{children:"Lista de seguros"}),(0,n.jsx)(l.A0,{children:(0,n.jsxs)(l.Hj,{children:[(0,n.jsx)(l.nd,{className:"w-[100px]",children:"#"}),(0,n.jsx)(l.nd,{children:"Seguro"}),(0,n.jsx)(l.nd,{children:"Descri\xe7\xe3o"}),(0,n.jsx)(l.nd,{children:"Op\xe7\xf5es"})]})}),(0,n.jsx)(l.BF,{children:j.map((e,r)=>{var t;return(0,n.jsxs)(l.Hj,{children:[(0,n.jsx)(l.nA,{className:"font-medium",children:r+1}),(0,n.jsx)(l.nA,{children:null==e?void 0:e.name}),(0,n.jsx)(l.nA,{children:(0,n.jsxs)(f.m_,{children:[(0,n.jsx)(m.k$,{children:(0,n.jsx)("span",{className:"w-64 truncate cursor-pointer",children:(null==e?void 0:null===(t=e.description)||void 0===t?void 0:t.length)>50?e.description.slice(0,50)+"...":e.description})}),(0,n.jsx)(m.ZI,{className:"w-96",children:(0,n.jsx)("span",{className:"overflow-hidden text-ellipsis",children:null==e?void 0:e.description})})]})}),(0,n.jsx)(l.nA,{children:(0,n.jsx)(_,{insure_id:e.id,children:(0,n.jsx)(a.$,{className:"py-0 px-0 h-8 w-8",variant:"outline",children:(0,n.jsx)(i.A,{})})})}),(0,n.jsx)(l.nA,{children:(0,n.jsx)(T,{insure:e,id:e.id,children:(0,n.jsxs)(a.$,{className:"py-0 px-0 h-8 w-8",variant:"outline",children:[(0,n.jsx)(c.A,{})," "]})})})]},e.id)})})]})})}function T(e){let{children:r,id:t,insure:l}=e,i=(0,z.useRouter)();return(0,n.jsxs)(s.Popover,{children:[(0,n.jsx)(s.PopoverTrigger,{asChild:!0,children:r}),(0,n.jsx)(s.PopoverContent,{className:"w-fit",children:(0,n.jsxs)("div",{className:"gap-4 flex flex-col items-start",children:[(0,n.jsxs)(a.$,{variant:"outline",onClick:()=>{i.push("/seguros/".concat(t,"/edit"))},children:["Editar ",(0,n.jsx)(o.A,{className:""})]}),(0,n.jsx)(R,{id:t,children:(0,n.jsxs)(a.$,{variant:"outline",children:["Apagar ",(0,n.jsx)(u.A,{className:"text-red-400"})]})})]})})]})}},9095:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Popover:()=>i,PopoverContent:()=>o,PopoverTrigger:()=>c});var n=t(5155),a=t(2115),s=t(8740),l=t(1567);let i=s.bL,c=s.l9,o=a.forwardRef((e,r)=>{let{className:t,align:a="center",sideOffset:i=4,...c}=e;return(0,n.jsx)(s.ZL,{children:(0,n.jsx)(s.UC,{ref:r,align:a,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...c})})});o.displayName=s.UC.displayName},2508:(e,r,t)=>{"use strict";t.d(r,{A0:()=>i,BF:()=>c,Hj:()=>o,XI:()=>l,nA:()=>d,nd:()=>u,r6:()=>f});var n=t(5155),a=t(2115),s=t(1567);let l=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("div",{className:"relative w-full overflow-auto",children:(0,n.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})});l.displayName="Table";let i=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",t),...a})});i.displayName="TableHeader";let c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})});c.displayName="TableBody",a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...a})}).displayName="TableFooter";let o=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...a})});o.displayName="TableRow";let u=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...a})});u.displayName="TableHead";let d=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...a})});d.displayName="TableCell";let f=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,n.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",t),...a})});f.displayName="TableCaption"},3601:(e,r,t)=>{"use strict";t.d(r,{Bc:()=>i,ZI:()=>u,k$:()=>o,m_:()=>c});var n=t(5155),a=t(2115),s=t(2990),l=t(1567);let i=s.Kq,c=s.bL,o=s.l9,u=a.forwardRef((e,r)=>{let{className:t,sideOffset:a=4,...i}=e;return(0,n.jsx)(s.UC,{ref:r,sideOffset:a,className:(0,l.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})});u.displayName=s.UC.displayName},1786:(e,r,t)=>{"use strict";function n(e,[r,t]){return Math.min(t,Math.max(r,e))}t.d(r,{q:()=>n})},9204:(e,r,t)=>{"use strict";t.d(r,{N:()=>m});var n=t(2115),a=t(8166);function s(e,r){if("function"==typeof e)return e(r);null!=e&&(e.current=r)}function l(...e){return r=>{let t=!1,n=e.map(e=>{let n=s(e,r);return t||"function"!=typeof n||(t=!0),n});if(t)return()=>{for(let r=0;r<n.length;r++){let t=n[r];"function"==typeof t?t():s(e[r],null)}}}}function i(...e){return n.useCallback(l(...e),e)}var c=t(5155),o=n.forwardRef((e,r)=>{let{children:t,...a}=e,s=n.Children.toArray(t),l=s.find(f);if(l){let e=l.props.children,t=s.map(r=>r!==l?r:n.Children.count(e)>1?n.Children.only(null):n.isValidElement(e)?e.props.children:null);return(0,c.jsx)(u,{...a,ref:r,children:n.isValidElement(e)?n.cloneElement(e,void 0,t):null})}return(0,c.jsx)(u,{...a,ref:r,children:t})});o.displayName="Slot";var u=n.forwardRef((e,r)=>{let{children:t,...a}=e;if(n.isValidElement(t)){let e=function(e){let r=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,t=r&&"isReactWarning"in r&&r.isReactWarning;return t?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?e.props.ref:e.props.ref||e.ref}(t);return n.cloneElement(t,{...function(e,r){let t={...r};for(let n in r){let a=e[n],s=r[n];/^on[A-Z]/.test(n)?a&&s?t[n]=(...e)=>{s(...e),a(...e)}:a&&(t[n]=a):"style"===n?t[n]={...a,...s}:"className"===n&&(t[n]=[a,s].filter(Boolean).join(" "))}return{...e,...t}}(a,t.props),ref:r?l(r,e):e})}return n.Children.count(t)>1?n.Children.only(null):null});u.displayName="SlotClone";var d=({children:e})=>(0,c.jsx)(c.Fragment,{children:e});function f(e){return n.isValidElement(e)&&e.type===d}function m(e){let r=e+"CollectionProvider",[t,s]=(0,a.A)(r),[l,u]=t(r,{collectionRef:{current:null},itemMap:new Map}),d=e=>{let{scope:r,children:t}=e,a=n.useRef(null),s=n.useRef(new Map).current;return(0,c.jsx)(l,{scope:r,itemMap:s,collectionRef:a,children:t})};d.displayName=r;let f=e+"CollectionSlot",m=n.forwardRef((e,r)=>{let{scope:t,children:n}=e,a=i(r,u(f,t).collectionRef);return(0,c.jsx)(o,{ref:a,children:n})});m.displayName=f;let p=e+"CollectionItemSlot",h="data-radix-collection-item",x=n.forwardRef((e,r)=>{let{scope:t,children:a,...s}=e,l=n.useRef(null),d=i(r,l),f=u(p,t);return n.useEffect(()=>(f.itemMap.set(l,{ref:l,...s}),()=>void f.itemMap.delete(l))),(0,c.jsx)(o,{[h]:"",ref:d,children:a})});return x.displayName=p,[{Provider:d,Slot:m,ItemSlot:x},function(r){let t=u(e+"CollectionConsumer",r);return n.useCallback(()=>{let e=t.collectionRef.current;if(!e)return[];let r=Array.from(e.querySelectorAll("[".concat(h,"]")));return Array.from(t.itemMap.values()).sort((e,t)=>r.indexOf(e.ref.current)-r.indexOf(t.ref.current))},[t.collectionRef,t.itemMap])},s]}},4256:(e,r,t)=>{"use strict";t.d(r,{jH:()=>s});var n=t(2115);t(5155);var a=n.createContext(void 0);function s(e){let r=n.useContext(a);return e||r||"ltr"}}},e=>{var r=r=>e(e.s=r);e.O(0,[963,6791,5037,1469,8239,4009,8685,7317,8740,609,8173,8996,4543,1333,8441,1517,7358],()=>r(5321)),_N_E=e.O()}]);