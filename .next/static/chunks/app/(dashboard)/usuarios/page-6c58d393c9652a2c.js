(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3770],{2949:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,8173,23)),Promise.resolve().then(t.bind(t,7441)),Promise.resolve().then(t.bind(t,2884))},4505:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7401).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},872:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7401).A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]])},8236:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(7401).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},6046:(e,r,t)=>{"use strict";var a=t(6658);t.o(a,"usePathname")&&t.d(r,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},7441:(e,r,t)=>{"use strict";t.d(r,{SearchForm:()=>o});var a=t(5155),n=t(3900);let s=(0,t(7401).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=t(6046),i=t(2115);function o(e){var r,t,o,c,d,u;let{route:f}=e,m=(0,l.useRouter)(),x=(0,l.useSearchParams)().get("search"),[h,p]=(0,i.useState)(x||""),[g]=(t=(0,i.useRef)(h),o=(0,i.useState)({})[1],c=function(e,r,t){var a=this,n=(0,i.useRef)(null),s=(0,i.useRef)(0),l=(0,i.useRef)(null),o=(0,i.useRef)([]),c=(0,i.useRef)(),d=(0,i.useRef)(),u=(0,i.useRef)(e),f=(0,i.useRef)(!0);u.current=e;var m="undefined"!=typeof window,x=!r&&0!==r&&m;if("function"!=typeof e)throw TypeError("Expected a function");r=+r||0;var h=!!(t=t||{}).leading,p=!("trailing"in t)||!!t.trailing,g="maxWait"in t,b="debounceOnServer"in t&&!!t.debounceOnServer,v=g?Math.max(+t.maxWait||0,r):null;return(0,i.useEffect)(function(){return f.current=!0,function(){f.current=!1}},[]),(0,i.useMemo)(function(){var e=function(e){var r=o.current,t=c.current;return o.current=c.current=null,s.current=e,d.current=u.current.apply(t,r)},t=function(e,r){x&&cancelAnimationFrame(l.current),l.current=x?requestAnimationFrame(e):setTimeout(e,r)},i=function(e){if(!f.current)return!1;var t=e-n.current;return!n.current||t>=r||t<0||g&&e-s.current>=v},j=function(r){return l.current=null,p&&o.current?e(r):(o.current=c.current=null,d.current)},y=function e(){var a=Date.now();if(i(a))return j(a);if(f.current){var l=r-(a-n.current);t(e,g?Math.min(l,v-(a-s.current)):l)}},N=function(){if(m||b){var u=Date.now(),x=i(u);if(o.current=[].slice.call(arguments),c.current=a,n.current=u,x){if(!l.current&&f.current)return s.current=n.current,t(y,r),h?e(n.current):d.current;if(g)return t(y,r),e(n.current)}return l.current||t(y,r),d.current}};return N.cancel=function(){l.current&&(x?cancelAnimationFrame(l.current):clearTimeout(l.current)),s.current=0,o.current=n.current=c.current=l.current=null},N.isPending=function(){return!!l.current},N.flush=function(){return l.current?j(Date.now()):d.current},N},[h,g,r,v,p,x,m,b])}((0,i.useCallback)(function(e){t.current=e,o({})},[o]),800,r),u=(d=(0,i.useRef)(h)).current,u===h||(c(h),d.current=h),[t.current,c]);return(0,l.usePathname)(),(0,i.useEffect)(()=>h?(console.log("/".concat(f,"?search=").concat(g)),m.push("/".concat(f,"?search=").concat(g))):(console.log("entrou no false"),m.push("/".concat(f))),[g]),(0,a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),m.push("/categorias?search=".concat(g))},className:"relative w-full",children:[(0,a.jsx)(n.p,{value:h,onChange:e=>p(e.target.value),type:"search",className:"rounded-xl ",placeholder:"Procurar"}),(0,a.jsx)(s,{size:24,className:"text-zinc-500 absolute right-2 -translate-y-1/2 top-1/2"})]})}},2884:(e,r,t)=>{"use strict";t.d(r,{TableUser:()=>k});var a=t(5155),n=t(3312),s=t(9095),l=t(2508),i=t(8236),o=t(872),c=t(5686),d=t(2115),u=t(7945),f=t(1344),m=t(5906),x=t(5848),h=t(4505),p=t(5037);function g(e){let{id:r,children:t}=e,[s,l]=(0,d.useState)(!1),i=(0,m.jE)(),{mutateAsync:o,isPending:c}=(0,x.n)({mutationFn:u.e,onSuccess:()=>{p.Ay.success("Permiss\xe3o eliminada com sucesso."),i.invalidateQueries({queryKey:["permission"]}),l(!1)}});async function g(){await o(r)}return(0,a.jsxs)(f.lG,{open:s,onOpenChange:l,children:[(0,a.jsx)(f.zM,{asChild:!0,children:t}),(0,a.jsxs)(f.Cf,{children:[(0,a.jsxs)(f.c7,{children:[(0,a.jsx)(f.L3,{children:"Tem a certeza absoluta?"}),(0,a.jsx)(f.rr,{children:"Tem a certeza que deseja eliminar este dado?"})]}),(0,a.jsxs)(f.Es,{className:"flex  justify-end gap-2",children:[(0,a.jsx)(n.$,{onClick:()=>l(!1),variant:"outline",children:"Cancelar"}),(0,a.jsxs)(n.$,{disabled:c,onClick:g,className:"bg-red-800 hover:bg-red-700 text-white",children:["Confirmar ",c&&(0,a.jsx)(h.A,{className:"animate-spin"})]})]})]})]})}var b=t(6019),v=t(3900),j=t(2679),y=t(9606),N=t(3415);let w=N.Ik({name:N.Yj().nonempty("Permiss\xe3o \xe9 obrigat\xf3rio"),description:N.Yj()});function R(e){let{children:r,id:t,permissao:s}=e,[l,i]=(0,d.useState)(!1),o=(0,m.jE)(),{mutateAsync:c,isPending:u}=(0,x.n)({mutationFn:b.h,onSuccess:e=>{console.log(e),p.Ay.success("Permiss\xe3o editada com sucesso"),i(!1),o.invalidateQueries({queryKey:["get-permission"]})},onError:e=>{p.Ay.error("Erro ao editar a permiss\xe3o")}});async function g(e){await c({id:t,data:e})}let{handleSubmit:N,formState:R,register:A,reset:S}=(0,y.mN)({resolver:(0,j.u)(w),defaultValues:{name:s.name,description:s.description}});return(0,a.jsxs)(f.lG,{open:l,onOpenChange:i,children:[(0,a.jsx)(f.zM,{asChild:!0,children:r}),(0,a.jsx)(f.Cf,{children:(0,a.jsxs)("form",{onSubmit:N(g),children:[(0,a.jsx)(f.c7,{children:(0,a.jsx)(f.L3,{children:"Editar Permiss\xe3o"})}),(0,a.jsxs)("div",{className:"my-4 flex flex-col gap-2",children:[(0,a.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Permiss\xe3o"}),(0,a.jsx)(v.p,{...A("name"),placeholder:"Insira a Permiss\xe3o"})]}),(0,a.jsxs)("fieldset",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"font-bold text-zinc-800 text-sm",children:"Descricao"}),(0,a.jsx)(v.p,{...A("description"),placeholder:"Insira a descri\xe7\xe3o da Permiss\xe3o"})]})]}),(0,a.jsxs)(f.Es,{className:"flex  justify-end gap-2",children:[(0,a.jsx)(n.$,{variant:"outline",children:"Cancelar"}),(0,a.jsxs)(n.$,{disabled:u,className:"text-white bg-orange-600 hover:bg-orange-700",children:["Salvar ",u&&(0,a.jsx)(h.A,{className:"animate-spin"})]})]})]})})]})}var A=t(547),S=t(5828);let P=(0,S.createServerReference)("00970ceb100e372d68968a313c94bc77e79d1f2873",S.callServer,void 0,S.findSourceMapURL,"GET_USERS");function k(e){let{users:r}=e,[t,s]=(0,d.useState)(!1),[o]=(0,d.useState)(null),c=(0,m.jE)();(0,d.useEffect)(()=>{r&&c.setQueryData(["users"],r)},[r,c]);let{data:u,isLoading:f,isError:x,error:h}=(0,A.I)({initialData:r,queryKey:["users"],queryFn:()=>P()});return console.log(u),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(l.XI,{children:[(0,a.jsx)(l.r6,{children:"Lista de usuarios"}),(0,a.jsx)(l.A0,{children:(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nd,{children:"Nome"}),(0,a.jsx)(l.nd,{children:"Email"}),(0,a.jsx)(l.nd,{children:"Telefone"}),(0,a.jsx)(l.nd,{children:"NIF"}),(0,a.jsx)(l.nd,{children:"Genero"})]})}),(0,a.jsx)(l.BF,{children:null==u?void 0:u.map((e,r)=>(0,a.jsxs)(l.Hj,{children:[(0,a.jsx)(l.nA,{children:e.name}),(0,a.jsx)(l.nA,{children:e.email}),(0,a.jsx)(l.nA,{children:e.phone_number}),(0,a.jsx)(l.nA,{children:e.nif}),(0,a.jsx)(l.nA,{children:e.gender}),(0,a.jsx)(l.nA,{}),(0,a.jsx)(l.nA,{children:(0,a.jsx)(C,{permissao:e,id:e.id,children:(0,a.jsxs)(n.$,{className:"py-0 px-0 h-8 w-8",variant:"outline",children:[(0,a.jsx)(i.A,{})," "]})})})]},e.id))})]})})}function C(e){let{children:r,id:t,permissao:l}=e;return(0,a.jsxs)(s.Popover,{children:[(0,a.jsx)(s.PopoverTrigger,{asChild:!0,children:r}),(0,a.jsx)(s.PopoverContent,{className:"w-fit",children:(0,a.jsxs)("div",{className:"gap-4 flex flex-col items-start",children:[(0,a.jsx)(R,{id:t,permissao:l,children:(0,a.jsxs)(n.$,{variant:"outline",children:["Editar ",(0,a.jsx)(o.A,{className:""})]})}),(0,a.jsx)(g,{id:t,children:(0,a.jsxs)(n.$,{variant:"outline",children:["Apagar ",(0,a.jsx)(c.A,{className:"text-red-400"})]})})]})})]})}},3312:(e,r,t)=>{"use strict";t.d(r,{$:()=>c});var a=t(5155),n=t(2115),s=t(1290),l=t(1027),i=t(1567);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,r)=>{let{className:t,variant:n,size:l,asChild:c=!1,...d}=e,u=c?s.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:t})),ref:r,...d})});c.displayName="Button"},1344:(e,r,t)=>{"use strict";t.d(r,{Cf:()=>f,Es:()=>x,L3:()=>h,c7:()=>m,lG:()=>o,rr:()=>p,zM:()=>c});var a=t(5155),n=t(2115),s=t(2531),l=t(767),i=t(1567);let o=s.bL,c=s.l9,d=s.ZL;s.bm;let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.hJ,{ref:r,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...n})});u.displayName=s.hJ.displayName;let f=n.forwardRef((e,r)=>{let{className:t,children:n,...o}=e;return(0,a.jsxs)(d,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(s.UC,{ref:r,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...o,children:[n,(0,a.jsxs)(s.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=s.UC.displayName;let m=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};m.displayName="DialogHeader";let x=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",r),...t})};x.displayName="DialogFooter";let h=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.hE,{ref:r,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",t),...n})});h.displayName=s.hE.displayName;let p=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)(s.VY,{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",t),...n})});p.displayName=s.VY.displayName},3900:(e,r,t)=>{"use strict";t.d(r,{p:()=>l});var a=t(5155),n=t(2115),s=t(1567);let l=n.forwardRef((e,r)=>{let{className:t,type:n,...l}=e;return(0,a.jsx)("input",{type:n,className:(0,s.cn)("flex h-10 w-full rounded-md border focus:border-2 border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus:border-zinc-500  disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...l})});l.displayName="Input"},9095:(e,r,t)=>{"use strict";t.r(r),t.d(r,{Popover:()=>i,PopoverContent:()=>c,PopoverTrigger:()=>o});var a=t(5155),n=t(2115),s=t(8740),l=t(1567);let i=s.bL,o=s.l9,c=n.forwardRef((e,r)=>{let{className:t,align:n="center",sideOffset:i=4,...o}=e;return(0,a.jsx)(s.ZL,{children:(0,a.jsx)(s.UC,{ref:r,align:n,sideOffset:i,className:(0,l.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...o})})});c.displayName=s.UC.displayName},2508:(e,r,t)=>{"use strict";t.d(r,{A0:()=>i,BF:()=>o,Hj:()=>c,XI:()=>l,nA:()=>u,nd:()=>d,r6:()=>f});var a=t(5155),n=t(2115),s=t(1567);let l=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",t),...n})})});l.displayName="Table";let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",t),...n})});i.displayName="TableHeader";let o=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",t),...n})});o.displayName="TableBody",n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...n})}).displayName="TableFooter";let c=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...n})});c.displayName="TableRow";let d=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...n})});d.displayName="TableHead";let u=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...n})});u.displayName="TableCell";let f=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,a.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",t),...n})});f.displayName="TableCaption"},1567:(e,r,t)=>{"use strict";t.d(r,{cn:()=>s});var a=t(3463),n=t(9795);function s(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.QP)((0,a.$)(r))}},6019:(e,r,t)=>{"use strict";t.d(r,{h:()=>n});var a=t(5828);let n=(0,a.createServerReference)("40109e45d1a6e14a358f1a179ad3b1f91eb1df72eb",a.callServer,void 0,a.findSourceMapURL,"PUT_CATEGORY")},7945:(e,r,t)=>{"use strict";t.d(r,{e:()=>n});var a=t(5828);let n=(0,a.createServerReference)("4090054eb4151b9e71f928320392e78a033b251cc9",a.callServer,void 0,a.findSourceMapURL,"DELETE_PERMISSION")}},e=>{var r=r=>e(e.s=r);e.O(0,[963,6791,5037,1469,8239,4009,6577,8685,8740,8173,8441,1517,7358],()=>r(2949)),_N_E=e.O()}]);